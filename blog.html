<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baca Berita | Ambulance Banyuwangi Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        html { scroll-behavior: smooth; }
        /* Style isi berita biar rapi pas narik data Blogger */
        .article-content p { margin-bottom: 1.5rem; line-height: 1.8; color: #475569; text-align: left; }
        .article-content h2 { font-weight: 800; font-size: 1.5rem; margin-top: 2rem; margin-bottom: 1rem; text-transform: uppercase; font-style: italic; color: #1e293b; text-align: left;}
        .article-content img { border-radius: 1.5rem; margin: 2rem 0; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); width: 100%; height: auto; object-fit: cover; }
        .article-content ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1.5rem; color: #475569; }
    </style>
</head>
<body class="bg-white text-slate-800 font-sans">

    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="flex items-center space-x-2">
                <div class="text-blue-700 text-3xl"><i class="fas fa-plus-square"></i></div>
                <span class="text-xl font-bold tracking-tighter uppercase italic text-slate-900">Ambulance<span class="text-blue-700">Banyuwangi</span></span>
            </a>
            <div class="hidden lg:flex space-x-6 font-semibold text-sm uppercase">
                <a href="index.html" class="hover:text-blue-700 transition">Beranda</a>
                <a href="index.html#berita" class="text-blue-700">Berita Lainnya</a>
            </div>
            <a href="tel:08123456789" class="bg-red-600 text-white px-5 py-2 rounded font-bold hover:bg-red-700 transition flex items-center shadow-lg text-sm uppercase">
                <i class="fas fa-phone-alt mr-2"></i> DARURAT 24 JAM
            </a>
        </div>
    </nav>

    <header class="py-12 md:py-20 bg-slate-50 border-b border-slate-100">
        <div class="container mx-auto px-4 max-w-4xl text-left">
            <nav class="flex mb-6 text-xs font-bold uppercase tracking-widest text-slate-400">
                <a href="index.html" class="hover:text-blue-700">Home</a>
                <span class="mx-2">/</span>
                <a href="index.html#berita" class="hover:text-blue-700">Berita</a>
                <span class="mx-2">/</span>
                <span class="text-blue-600" id="breadcrumb-title">Loading...</span>
            </nav>
            <h1 id="news-title" class="text-3xl md:text-5xl font-black uppercase italic leading-tight text-slate-900 mb-6">
                Memuat Berita...
            </h1>
            <div class="flex items-center space-x-4 text-sm text-slate-500 font-medium">
                <div class="flex items-center"><i class="far fa-calendar-alt mr-2 text-blue-600"></i> <span id="news-date">-</span></div>
                <div class="flex items-center"><i class="far fa-user mr-2 text-blue-600"></i> Admin BWI Center</div>
            </div>
        </div>
    </header>

    <main class="py-12">
        <div class="container mx-auto px-4 max-w-4xl">
            <div id="news-image-container">
                <div class="w-full h-[400px] bg-slate-200 animate-pulse rounded-3xl mb-12"></div>
            </div>
            
            <div class="article-content" id="news-body">
                <p class="text-center py-20 text-slate-400 italic">Mohon tunggu, sedang mengambil data...</p>
            </div>

            <div class="mt-16 bg-blue-700 rounded-3xl p-8 md:p-12 text-white flex flex-col md:flex-row items-center justify-between shadow-2xl">
                <div class="mb-6 md:mb-0 text-center md:text-left">
                    <h3 class="text-2xl font-black uppercase italic mb-2">Butuh Bantuan Cepat?</h3>
                    <p class="text-blue-100">Konsultasi gratis pengiriman jenazah & ambulans 24 Jam.</p>
                </div>
                <a href="https://wa.me/628123456789" class="bg-white text-blue-700 px-8 py-4 rounded-xl font-black uppercase italic hover:bg-slate-100 transition shadow-lg">Chat Admin</a>
            </div>
        </div>
    </main>

    <footer class="bg-slate-900 text-slate-500 py-12 text-center border-t border-slate-800">
        <div class="container mx-auto px-4">
            <p class="mb-4">Â© 2026 Ambulance Banyuwangi Center & Technical Service Group.</p>
        </div>
    </footer>

    <script>
    const urlParams = new URLSearchParams(window.location.search);
    const newsId = urlParams.get('id');

    function fetchSingleNews() {
        if (!newsId) {
            document.getElementById('news-body').innerHTML = "<p class='text-center py-20'>Berita tidak ditemukan. Silakan kembali ke <a href='index.html' class='text-blue-600 underline'>Beranda</a>.</p>";
            document.getElementById('news-title').innerText = "Konten Tidak Ada";
            return;
        }
        
        const script = document.createElement('script');
        script.src = `https://www.nandateknik.com/feeds/posts/default/${newsId}?alt=json-in-script&callback=displaySinglePost`;
        document.body.appendChild(script);
    }

        function generateSchema(title, content, date, imgUrl) {
    const schema = {
        "@context": "https://schema.org",
        "@type": "MedicalWebPage", // Luwih spesifik gawe layanan ambulans
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": window.location.href
        },
        "headline": title,
        "image": [imgUrl],
        "datePublished": date,
        "dateModified": date,
        "author": {
            "@type": "Organization",
            "name": "Ambulance Banyuwangi Center",
            "url": "https://www.ambulancebanyuwangicenter.com"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Ambulance Banyuwangi Center",
            "logo": {
                "@type": "ImageObject",
                "url": "hero.png" // Ganti karo logo aslimu
            }
        },
        "description": content.substring(0, 160).replace(/<[^>]*>?/gm, '') // Njupuk ringkesan tulisan
    };

    const script = document.createElement('script');
    script.type = 'application/ld+json';
    script.text = JSON.stringify(schema);
    document.head.appendChild(script);
}

   function displaySinglePost(json) {
        const entry = json.entry;
        if (entry) {
            const title = entry.title.$t;
            const content = entry.content.$t;
            const isoDate = entry.published.$t; // Pakai ISO Date untuk Schema
            const dateFormatted = new Date(isoDate).toLocaleDateString('id-ID', {
                year: 'numeric', month: 'long', day: 'numeric'
            });

            // Update SEO & UI
            document.title = title + " | Ambulance Banyuwangi Center";
            document.getElementById('news-title').innerText = title;
            document.getElementById('breadcrumb-title').innerText = title.substring(0, 20) + "...";
            document.getElementById('news-date').innerText = dateFormatted;
            document.getElementById('news-body').innerHTML = content;
            
            // Definisikan gambar default lek misale gak ono gambare
            let bigImg = "hero.png"; 

            // Gambar Utama
            if (entry.media$thumbnail) {
                bigImg = entry.media$thumbnail.url.replace("s72-c", "s1600");
                document.getElementById('news-image-container').innerHTML = 
                    `<img src="${bigImg}" class="w-full h-[400px] object-cover rounded-3xl shadow-xl mb-12">`;
            } else {
                document.getElementById('news-image-container').innerHTML = "";
            }

            // PANGGIL SCHEMA nganggo ISO DATE (Luwih disenengi Google)
            generateSchema(title, content, isoDate, bigImg);
        }
    }

    window.onload = fetchSingleNews;
    </script>
</body>
</html>
